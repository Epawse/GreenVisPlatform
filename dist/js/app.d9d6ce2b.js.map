{"version":3,"file":"js/app.d9d6ce2b.js","mappings":"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","sources":["webpack://webgis/./src/App.vue","webpack://webgis/./src/App.vue?7ccd","webpack://webgis/./src/views/Map.vue","webpack://webgis/./src/utils/newBaseSource.js","webpack://webgis/./src/utils/bd09.js","webpack://webgis/./src/utils/newLayer.js","webpack://webgis/./src/views/Map.vue?0d41","webpack://webgis/./src/router/index.js","webpack://webgis/./src/store/index.js","webpack://webgis/./src/main.js","webpack://webgis/webpack/bootstrap","webpack://webgis/webpack/runtime/chunk loaded","webpack://webgis/webpack/runtime/compat get default export","webpack://webgis/webpack/runtime/define property getters","webpack://webgis/webpack/runtime/global","webpack://webgis/webpack/runtime/hasOwnProperty shorthand","webpack://webgis/webpack/runtime/make namespace object","webpack://webgis/webpack/runtime/publicPath","webpack://webgis/webpack/runtime/jsonp chunk loading","webpack://webgis/webpack/startup"],"sourcesContent":["<script setup></script>\n\n<template>\n  <router-view />\n</template>\n\n<style scoped></style>\n","import { render } from \"./App.vue?vue&type=template&id=b4742da8\"\nconst script = {}\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"header\">\n    <div class=\"logo\">\n      <img src=\"/icon.png\" alt=\"Logo Icon\" class=\"logo-icon\" />\n      <span>城市绿色空间展示平台</span>\n    </div>\n    <div class=\"nav\">\n      <!-- <el-select\n        v-model=\"selectedDataType\"\n        placeholder=\"请选择数据类型\"\n        size=\"large\"\n        style=\"width: 240px\"\n      >\n        <el-option\n          v-for=\"typeItem in typeOptions\"\n          :key=\"typeItem.value\"\n          :label=\"typeItem.label\"\n          :value=\"typeItem.value\"\n        ></el-option>\n      </el-select> -->\n\n      <el-cascader\n        v-model=\"selectedDataType\"\n        placeholder=\"请选择数据类型\"\n        :options=\"typeOptions\"\n        :props=\"{ expandTrigger: 'hover' }\"\n        size=\"large\"\n        style=\"width: 240px\"\n      >\n      </el-cascader>\n\n      <el-select\n        v-model=\"selectedYear\"\n        placeholder=\"请选择数据年份\"\n        size=\"large\"\n        style=\"width: 240px\"\n      >\n        <el-option\n          v-for=\"year in yearOptions\"\n          :key=\"year\"\n          :label=\"year\"\n          :value=\"year\"\n          :disabled=\"isYearDisabled(year)\"\n        ></el-option>\n      </el-select>\n\n      <el-select\n        v-model=\"selectedPolicy\"\n        placeholder=\"请选择政策\"\n        size=\"large\"\n        style=\"width: 240px\"\n        :disabled=\"isPolicyDisabled\"\n      >\n        <el-option\n          v-for=\"policy in policyOptions\"\n          :key=\"policy.value\"\n          :label=\"policy.label\"\n          :value=\"policy.value\"\n        ></el-option>\n      </el-select>\n\n      <el-button @click=\"loadShp()\" size=\"large\">确定</el-button>\n      <el-button\n        @click=\"toggleChart()\"\n        size=\"large\"\n        :class=\"{ active: chartVisible }\"\n        >查看图表</el-button\n      >\n      <el-button\n        @click=\"toggleSeggestion()\"\n        size=\"large\"\n        :class=\"{ active: suggestionVisible }\"\n        >查看建议</el-button\n      >\n\n      <el-button @click=\"toggleBasemap()\" size=\"large\">底图</el-button>\n    </div>\n  </div>\n\n  <div class=\"container\">\n    <div class=\"map-wrapper\">\n      <div id=\"mapDom\" class=\"map\"></div>\n      <div id=\"popup\" class=\"ol-popup\" v-show=\"isSelecting\">\n        <a href=\"#\" id=\"popup-closer\" class=\"ol-popup-closer\"></a>\n        <div id=\"popup-content\"></div>\n      </div>\n\n      <div class=\"chart-panel\" v-show=\"chartVisible\">\n        <div class=\"chart-header\" v-show=\"chartVisible\">\n          <span>{{ selectedYear }} 年绿地可达性与公平性指标</span>\n          <i class=\"el-icon-close\" @click=\"chartVisible = false\"></i>\n        </div>\n        <!-- 可达性表 -->\n        <div class=\"chart-body-1\" v-show=\"chart_1_visible\">\n          <el-table :data=\"tableData\" height=\"300\" style=\"width: 100%\">\n            <el-table-column\n              v-for=\"(header, index) in tableHeaders\"\n              :key=\"index\"\n              :prop=\"header\"\n              :label=\"header\"\n            >\n            </el-table-column>\n          </el-table>\n        </div>\n        <!-- 公平性表 -->\n        <div class=\"chart-body-2\" v-show=\"chart_2_visible\">\n          <div v-for=\"(image, index) in images\" :key=\"image\" class=\"block\">\n            <span class=\"demonstration\">{{ demonstrations[index] }}</span>\n            <el-image\n              style=\"width: 200px; height: 130px\"\n              :src=\"image\"\n              :fit=\"fill\"\n            ></el-image>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"suggestion-panel\" v-show=\"suggestionVisible\">\n        <div v-html=\"suggestionContent\"></div>\n      </div>\n\n      <div v-if=\"basemapVisible\" class=\"basemap-container\">\n        <div\n          v-for=\"basemap in basemaps\"\n          :key=\"basemap.name\"\n          class=\"basemap-item\"\n          @click=\"setBasemap(basemap.name)\"\n        >\n          <img :src=\"basemap.thumbnail\" :alt=\"basemap.name\" />\n          <span>{{ basemap.name }}</span>\n        </div>\n      </div>\n\n      <div class=\"toolbar\">\n        <!-- 第一组按钮 -->\n        <el-button-group class=\"button-group\" vertical>\n          <el-button @click=\"drawFeature('Point')\">画点</el-button>\n          <el-button @click=\"drawFeature('LineString')\">画线</el-button>\n          <el-button @click=\"drawFeature('Polygon')\">画面</el-button>\n        </el-button-group>\n\n        <!-- 第二组按钮 -->\n        <el-button-group class=\"button-group\" vertical>\n          <el-button @click=\"undo()\">撤回</el-button>\n          <el-button @click=\"resetStatus()\">取消</el-button>\n          <el-button @click=\"clearDrawLayer()\">清除</el-button>\n          <el-button @click=\"measureDistance()\">测距</el-button>\n        </el-button-group>\n\n        <!-- 第三组按钮 -->\n        <el-button-group class=\"button-group\" vertical>\n          <el-button @click=\"selectFeature()\">选择</el-button>\n          <el-button @click=\"translateFeature()\">平移</el-button>\n          <el-button @click=\"editVertices()\">编辑</el-button>\n          <el-button @click=\"rotateFeature()\">旋转</el-button>\n        </el-button-group>\n      </div>\n\n      <!-- <div class=\"map-controls\">\n        <el-button-group class=\"button-group\" vertical>\n          <el-button @click=\"onZoom(true)\">放大一级</el-button>\n          <el-button @click=\"onZoom(false)\">缩小一级</el-button>\n          <el-button @click=\"onMoveWh()\">移动到武汉</el-button>\n          <el-button @click=\"onRestore()\">复位</el-button>\n          <el-button @click=\"onScaleChange('line')\">比例尺线</el-button>\n          <el-button @click=\"onScaleChange('bar')\">比例尺条</el-button>\n          <el-button @click=\"openFileUpload()\">上传</el-button>\n          <input\n            type=\"file\"\n            ref=\"fileInput\"\n            accept=\".json,.geojson,.zip\"\n            @change=\"onFileUpload\"\n            style=\"display: none\"\n          />\n        </el-button-group>\n      </div> -->\n\n      <div class=\"legend\">\n        <img src=\"/images/legend3.png\" alt=\"Legend\" style=\"\" />\n      </div>\n\n      <!-- <el-card class=\"layers-control\">\n        <el-checkbox-group v-model=\"checks\" @change=\"onCheckChange\">\n          <el-checkbox\n            v-for=\"layer in layers\"\n            :key=\"layer.name\"\n            :label=\"layer.name\"\n            >{{ layer.title }}</el-checkbox\n          >\n        </el-checkbox-group>\n      </el-card> -->\n    </div>\n    <!-- GeoJSON 查看区域 -->\n    <div class=\"geojson-viewer\" v-if=\"geoJSONViewerVisible\">\n      <el-card>\n        <div class=\"clearfix\">\n          <span>GeoJSON 查看</span>\n          <el-button\n            @click=\"closeGeoJSONViewer\"\n            type=\"text\"\n            class=\"close-button\"\n            >X</el-button\n          >\n        </div>\n        <div>\n          <vue-json-pretty\n            :data=\"parsedGeoJSON\"\n            :deep=\"3\"\n            selectableType=\"single\"\n            :highlightMouseoverNode=\"true\"\n            path=\"res\"\n          ></vue-json-pretty>\n        </div>\n      </el-card>\n    </div>\n  </div>\n  <div class=\"attribute-panel\">\n    <el-table :data=\"features\" style=\"width: 100%\" max-height=\"100%\">\n      <el-table-column prop=\"id\" label=\"ID\" width=\"180\"></el-table-column>\n      <el-table-column prop=\"type\" label=\"类型\" width=\"120\"></el-table-column>\n      <el-table-column\n        prop=\"area\"\n        label=\"面积(m²)\"\n        width=\"120\"\n      ></el-table-column>\n      <el-table-column prop=\"selected\" label=\"选中\" width=\"80\">\n        <template v-slot=\"scope\">\n          <el-checkbox\n            v-model=\"scope.row.selected\"\n            @change=\"onFeatureSelectChange(scope.row)\"\n          ></el-checkbox>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template v-slot=\"scope\">\n          <el-button size=\"small\" @click=\"locateFeature(scope.row)\"\n            >定位</el-button\n          >\n          <el-button\n            size=\"small\"\n            type=\"danger\"\n            @click=\"deleteFeature(scope.row)\"\n            >删除</el-button\n          >\n          <el-button size=\"small\" @click=\"viewFeatureGeoJSON(scope.row)\"\n            >查看</el-button\n          >\n          <el-button size=\"small\" @click=\"exportFeatureGeoJSON(scope.row)\"\n            >导出</el-button\n          >\n          <el-button\n            size=\"small\"\n            v-if=\"scope.row.type === 'shp'\"\n            @click=\"viewAttributeTable(scope.row)\"\n            >查看属性表</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport \"ol/ol.css\";\nimport Map from \"ol/Map\";\nimport { Draw } from \"ol/interaction.js\";\nimport View from \"ol/View\";\nimport { Vector as VectorLayer } from \"ol/layer\";\nimport { OSM, Vector as VectorSource } from \"ol/source\";\nimport { Fill, Stroke, Style, Text, Circle } from \"ol/style\";\nimport { Circle as CircleStyle } from \"ol/style\";\nimport { Point } from \"ol/geom\";\nimport { Select, Translate, Modify, Transform } from \"ol/interaction\";\nimport { Collection } from \"ol\";\nimport { getCenter, getHeight, getWidth } from \"ol/extent.js\";\nimport {\n  always,\n  click,\n  never,\n  platformModifierKeyOnly,\n  primaryAction,\n} from \"ol/events/condition.js\";\nimport GeoJSON from \"ol/format/GeoJSON\";\nimport { getLength } from \"ol/sphere\";\nimport { unByKey } from \"ol/Observable\";\nimport Overlay from \"ol/Overlay\";\n\nimport VueJsonPretty from \"vue-json-pretty/lib/vue-json-pretty.js\";\nimport \"vue-json-pretty/lib/styles.css\";\n\nimport shp from \"shpjs\";\n\nimport proj4 from \"proj4\";\nimport { register } from \"ol/proj/proj4\";\nimport { fromLonLat } from \"ol/proj\";\nimport { TileWMS } from \"ol/source\";\n\nproj4.defs(\"EPSG:4326\", \"+proj=longlat +datum=WGS84 +no_defs\");\nproj4.defs(\n  \"EPSG:3857\",\n  \"+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs\"\n);\nregister(proj4);\n\n// import {\n//   createLyrTian,\n//   createLyrBd,\n//   createLyrGd,\n//   createLyrOSM,\n//   createLyrBing,\n//   createLyrArc,\n//   createLyrWMS,\n//   createLyrWMTS,\n//   createLyrWFS,\n//   createLyrGeoJSON,\n//   createLyrKML,\n//   createLyrGPX,\n//   createLyrVecTile,\n// } from \"../utils/createLayer.js\";\n\n// 地图控件\nimport Zoom from \"ol/control/Zoom.js\";\nimport ZoomSlider from \"ol/control/ZoomSlider.js\";\nimport ZoomToExtent from \"ol/control/ZoomToExtent.js\";\nimport ScaleLine from \"ol/control/ScaleLine.js\";\nimport TileLayer from \"ol/layer/Tile.js\";\nimport MousePosition from \"ol/control/MousePosition.js\";\nimport { create } from \"ol/transform\";\nimport { createStringXY } from \"ol/coordinate.js\";\nimport XYZ from \"ol/source/XYZ\";\nimport newBaseSource from \"../utils/newBaseSource.js\";\nimport {\n  DragRotateAndZoom,\n  defaults as defaultInteractions,\n} from \"ol/interaction.js\";\nimport { OverviewMap, defaults as defaultControls } from \"ol/control.js\";\nimport newLayer from \"../utils/newLayer.js\";\nimport { getExtent } from \"ol/extent\"; // Import the getExtent function from the 'ol/extent' package\nimport { singleClick } from \"ol/events/condition\";\nimport { Transition } from \"vue\";\nimport { bbox as bboxStrategy } from \"ol/loadingstrategy\";\nimport { toLonLat } from \"ol/proj.js\";\nimport { toStringHDMS } from \"ol/coordinate.js\";\nimport * as d3 from \"d3\";\nimport { ElMessage } from \"element-plus\";\n\nexport default {\n  components: {\n    VueJsonPretty,\n  },\n  name: \"\",\n  data() {\n    return {\n      map: {},\n      drawSource: new VectorSource(),\n      drawVector: {},\n      draw: {},\n      features: [],\n      idList: [],\n      checks: [], // 存储选中的图层名\n      layers: [],\n      undoStack: [],\n      view: null,\n      zoom: null,\n      center: null,\n      rotation: null,\n      miniMap: null,\n      measureInteraction: null,\n      olmap: null,\n      scale: null,\n      modify: null,\n      translate: null,\n      transform: null,\n      defaultStyle: null,\n      select: null,\n      selectedFeatures: [],\n      isSelecting: false,\n      geoJSONViewerVisible: false, // 控制GeoJSON查看器的显示\n      selectedFeatureGeoJSON: null,\n      parsedGeoJSON: null, // 用于存储解析后的GeoJSON数据\n      // selectedDataType: \"\",\n      selectedDataType: [],\n      isPolicyDisabled: false,\n      selectedYear: \"\",\n      selectedPolicy: \"noFactor\",\n      // typeOptions: [\n      //   { value: \"landuse\", label: \"土地利用\" },\n      //   { value: \"greenArea\", label: \"绿地可达性\" },\n\n      //   { value: \"greenArea\", label: \"绿地范围\" },\n      // ],\n      typeOptions: [\n        {\n          value: \"landuse\",\n          label: \"土地利用\",\n          children: [\n            {\n              value: \"train\",\n              label: \"训练数据\",\n            },\n            {\n              value: \"predict\",\n              label: \"预测数据\",\n            },\n          ],\n        },\n        {\n          value: \"greenAccessibility\",\n          label: \"绿地可达性\",\n          children: [\n            {\n              value: \"walk\",\n              label: \"步行绿地可达性\",\n            },\n            {\n              value: \"near\",\n              label: \"近邻绿地可达性\",\n            },\n            {\n              value: \"car\",\n              label: \"驾车绿地可达性\",\n            },\n            {\n              value: \"sum\",\n              label: \"总体绿地可达性\",\n            },\n          ],\n        },\n        {\n          value: \"greenEquity\",\n          label: \"绿地公平性\",\n        },\n        {\n          value: \"others\",\n          label: \"其他数据\",\n        },\n      ],\n      policyOptions: [\n        {\n          value: \"noFactor\",\n          label: \"无政策\",\n        },\n        {\n          value: \"withFactor\",\n          label: \"有政策\",\n        },\n      ],\n      yearOptions: [\"2014\", \"2030\", \"2040\", \"2050\"],\n      shpLayer: null,\n      chartVisible: false,\n      chart_1_visible: true,\n      chart_2_visible: false,\n      chartData: [],\n      images: [],\n      demonstrations: [],\n      tableData: [],\n      tableHeaders: [],\n      suggestionVisible: false,\n      suggestionContent: \"\",\n      basemapVisible: false,\n      basemaps: [\n        {\n          name: \"OSM\",\n          thumbnail: require(\"../assets/images/osm-thumbnail.jpg\"),\n        },\n        {\n          name: \"ArcGIS\",\n          thumbnail: require(\"../assets/images/satellite-thumbnail.jpg\"),\n        },\n        {\n          name: \"Tian\",\n          // thumbnail: require(\"../assets/images/tian-thumbnail.jpg\"),\n        },\n        {\n          name: \"Gaode\",\n          // thumbnail : require(\"../assets/images/gaode-thumbnail.jpg\"),\n        },\n        {\n          name: \"Baidu\",\n        },\n        {\n          name: \"Bing\",\n        },\n        {\n          name: \"Google\",\n        },\n        {\n          name: \"WMTS\",\n        },\n        {\n          name: \"None\",\n        },\n      ],\n      isPredict: true,\n      attributeTableVisible: false,\n      attributeData: [],\n      attributeColumns: [],\n      myStyle: new Style({\n        fill: new Fill({\n          color: \"rgba(245, 243, 240, 0.6)\",\n        }),\n        stroke: new Stroke({\n          color: \"#ffcc33\",\n          width: 2,\n        }),\n        image: new Circle({\n          radius: 7,\n          fill: new Fill({\n            color: \"#ffcc33\",\n          }),\n        }),\n      }),\n    };\n  },\n  watch: {\n    selectedDataType(newValue) {\n      const lastSelectedType = newValue[newValue.length - 1];\n      const firstSelectedType = newValue[0];\n      console.log(firstSelectedType, lastSelectedType);\n\n      // 只有在土地类型/训练数据时，isPredict 才为 false\n      if (firstSelectedType === \"landuse\" && lastSelectedType === \"train\") {\n        this.isPredict = false;\n        this.isPolicyDisabled = true;\n      } else {\n        this.isPredict = true;\n        this.isPolicyDisabled = false;\n      }\n\n      this.resetSelectedYear(); // 重置年份选择\n    },\n  },\n\n  mounted() {\n    this.initMap();\n    this.addDrawLayer();\n    this.resetStatus();\n  },\n  methods: {\n    isYearDisabled(year) {\n      if (!this.isPredict) {\n        return year !== \"2014\";\n      } else {\n        return year !== \"2030\" && year !== \"2040\" && year !== \"2050\";\n      }\n    },\n    resetSelectedYear() {\n      if (this.isYearDisabled(this.selectedYear)) {\n        if (!this.isPredict) {\n          this.selectedYear = \"2014\"; // 将年份重置为2009\n          this.selectedPolicy = \"noFactor\"; // 将政策重置为无政策\n        } else {\n          this.selectedYear = \"2030\"; // 将年份重置为2030\n        }\n      }\n    },\n    toggleBasemap() {\n      this.basemapVisible = !this.basemapVisible;\n      // console.log(this.map.getView());\n    },\n\n    setBasemap(name) {\n      const layers = this.map.getLayers();\n\n      // 移除所有底图图层\n      layers.forEach((layer) => {\n        if (layer instanceof TileLayer) {\n          this.map.removeLayer(layer);\n        }\n      });\n\n      if (name === \"None\") {\n        this.basemapVisible = false;\n        return;\n      }\n\n      // let source = newBaseSource(name);\n\n      // console.log(source);\n      let layer;\n\n      // layer = new TileLayer({\n      //   properties: {\n      //     name: name,\n      //   },\n      //   source: source,\n      // });\n\n      layer = newLayer(name);\n\n      // 添加到最底层\n      this.map.getLayers().insertAt(0, layer);\n\n      this.basemapVisible = false;\n    },\n\n    loadShp() {\n      if (this.selectedDataType.length === 0 || !this.selectedYear) {\n        this.$message.error(\"请选择政策类型和数据年份\");\n      } else if (!this.selectedPolicy && this.isPredict) {\n        this.$message.error(\"请选择政策类型\");\n      } else {\n        let url;\n        let workspace;\n        switch (this.selectedDataType[0]) {\n          case \"landuse\":\n            workspace = \"Landuse\";\n            break;\n          case \"greenAccessibility\":\n            workspace = \"GreenAccessibility\";\n            break;\n          case \"greenEquity\":\n            workspace = \"GreenEquity\";\n            break;\n          case \"others\":\n            workspace = \"Others\";\n            break;\n        }\n        url = `http://localhost:8080/geoserver/${workspace}/wms`;\n        const params = {\n          LAYERS: `${workspace}:${this.selectedDataType[0]}_${this.selectedDataType[1]}_${this.selectedPolicy}_${this.selectedYear}`,\n          TILED: true,\n          STYLES: `${this.selectedDataType[0]}_${this.selectedDataType[1]}_style`,\n        };\n        console.log(params);\n        if (this.shpLayer) {\n          this.map.removeLayer(this.shpLayer);\n        }\n        this.shpLayer = new TileLayer({\n          properties: {\n            name: `${this.selectedDataType[0]}_${this.selectedDataType[1]}_${this.selectedPolicy}_${this.selectedYear}`,\n          },\n          source: new TileWMS({\n            url,\n            params,\n            serverType: \"geoserver\",\n            transition: 0,\n            projection: \"EPSG:4326\",\n          }),\n        });\n\n        this.map.addLayer(this.shpLayer);\n\n        let geojsonFilePath;\n        if (this.selectedDataType[0] === \"landuse\") {\n          geojsonFilePath = \"/geojson/greenAccessibility_2030.geojson\";\n        } else {\n          geojsonFilePath = `/geojson/${this.selectedDataType[0]}_${this.selectedYear}.geojson`;\n        }\n\n        let drawSource;\n        let drawLayer;\n\n        fetch(geojsonFilePath)\n          .then((response) => response.json())\n          .then((data) => {\n            const features = new GeoJSON().readFeatures(data);\n\n            drawSource = new VectorSource();\n            drawSource.addFeatures(features);\n\n            // 设置样式,完全透明\n            let vectorStyle;\n            vectorStyle = new Style({\n              fill: new Fill({\n                color: \"rgba(0, 0, 0, 0)\", // 完全透明\n              }),\n              stroke: new Stroke({\n                color: \"rgba(0,0,0,0)\",\n                width: 0.5,\n              }),\n            });\n\n            drawLayer = new VectorLayer({\n              source: drawSource,\n              style: vectorStyle,\n            });\n            drawLayer.setZIndex(1000);\n            this.map.addLayer(drawLayer);\n            this.map.getView().fit(drawSource.getExtent());\n          })\n          .catch((error) => {\n            console.error(\"获取GeoJSON数据失败:\", error);\n          });\n      }\n    },\n\n    toggleChart() {\n      if (this.chartVisible) {\n        this.chartVisible = false;\n      } else {\n        this.showChart();\n      }\n    },\n    toggleSeggestion() {\n      if (this.suggestionVisible) {\n        this.suggestionVisible = false;\n      } else {\n        this.showSeggestion();\n      }\n    },\n    showSeggestion() {\n      // 显示suggestion-panel\n      this.suggestionVisible = true;\n\n      // 加载建议内容\n      const suggestionUrl = `/suggestions/suggestion_${this.selectedYear}.txt`;\n      fetch(suggestionUrl)\n        .then((response) => response.text())\n        .then((text) => {\n          this.suggestionContent = text;\n          // 换行符替换为<br>\n          this.suggestionContent = this.suggestionContent.replace(\n            /\\n/g,\n            \"<br>\"\n          );\n        })\n        .catch((error) => {\n          ElMessage.error(\"加载建议内容失败\");\n          console.error(\"Error loading suggestion content:\", error);\n        });\n    },\n    showChart() {\n      if (!this.selectedYear || this.selectedDataType.length === 0) {\n        this.$message.error(\"请选择数据类型和数据年份\");\n        this.chartVisible = false;\n        return;\n      } else if (this.selectedDataType[0] === \"greenEquity\") {\n        this.chartVisible = true;\n        this.chart_1_visible = false;\n        this.chart_2_visible = true;\n        const header = document.querySelector(\".chart-header\");\n        // 更改图表标题\n        header.innerHTML = \"绿地公平性指标\";\n        let walkImage = \"/images/步行公平性.png\";\n        let driveImage = \"/images/驾车公平性.png\";\n        let nearImage = \"/images/近邻公平性.png\";\n        let sumImage = \"/images/总体公平性.png\";\n        this.images = [walkImage, driveImage, nearImage, sumImage];\n        this.demonstrations = [\n          \"步行公平性\",\n          \"驾车公平性\",\n          \"近邻公平性\",\n          \"总体公平性\",\n        ];\n      } else if (this.selectedDataType[0] === \"greenAccessibility\") {\n        this.chartVisible = true;\n        this.chart_1_visible = true;\n        this.chart_2_visible = false;\n        const header = document.querySelector(\".chart-header\");\n        // 更改图表标题\n        header.innerHTML = `${this.selectedYear} 年绿地可达性指标`;\n        // 加载表格\n        const tableUrl = `/tables/分区统计Aij_${this.selectedYear}.csv`;\n        d3.csv(tableUrl)\n          .then((data) => {\n            this.loadTable(data);\n          })\n          .catch((error) => {\n            ElMessage.error(\"加载表格数据失败\");\n            console.error(\"Error loading table data:\", error);\n          });\n      } else {\n        this.chartVisible = false;\n        this.chart_1_visible = false;\n        this.chart_2_visible = false;\n        this.$message.error(\"暂无数据\");\n        return;\n      }\n\n      // if (this.selectedDataType && this.selectedYear) {\n      //   let url;\n      //   let workspace;\n      //   switch (this.selectedDataType[0]) {\n      //     case \"landuse\":\n      //       workspace = \"Landuse\";\n      //       break;\n      //     case \"greenAccessibility\":\n      //       workspace = \"GreenAccessibility\";\n      //       break;\n      //     case \"greenEquity\":\n      //       workspace = \"GreenEquity\";\n      //       break;\n      //     case \"others\":\n      //       workspace = \"Others\";\n      //       break;\n      //   }\n      //   url = `http://localhost:8080/geoserver/${workspace}/wms`;\n      //   const params = {\n      //     SERVICE: \"WMS\",\n      //     VERSION: \"1.1.1\",\n      //     REQUEST: \"GetFeatureInfo\",\n      //     LAYERS: `${workspace}:${this.selectedDataType[0]}_${this.selectedDataType[1]}_${this.selectedPolicy}_${this.selectedYear}`,\n      //     QUERY_LAYERS: `workspace:${this.selectedDataType}_${this.selectedYear}`,\n      //     INFO_FORMAT: \"application/json\",\n      //     FEATURE_COUNT: 1000,\n      //     X: 0,\n      //     Y: 0,\n      //     WIDTH: 1,\n      //     HEIGHT: 1,\n      //     SRS: \"EPSG:4326\",\n      //     BBOX: \"-180,-90,180,90\",\n      //   };\n\n      //   fetch(`${url}?${new URLSearchParams(params)}`)\n      //     .then((response) => response.json())\n      //     .then((data) => {\n      //       this.chartData = data.features.map((feature) => ({\n      //         region: feature.properties.region,\n      //         accessibility: feature.properties.accessibility,\n      //         equity: feature.properties.equity,\n      //       }));\n      //       this.chartVisible = true;\n      //     })\n      //     .catch((error) => {\n      //       console.error(\"获取属性表数据失败:\", error);\n      //     });\n      // }\n    },\n    loadTable(data) {\n      if (data.length > 0) {\n        this.tableHeaders = Object.keys(data[0]);\n        this.tableData = data;\n      } else {\n        ElMessage.error(\"表格数据为空\");\n      }\n    },\n    resetStatus() {\n      this.map.removeInteraction(this.draw);\n      this.map.removeInteraction(this.modify);\n      this.map.removeInteraction(this.translate);\n      this.map.removeInteraction(this.transform);\n      this.map.removeInteraction(this.measureInteraction);\n\n      this.select.getFeatures().clear();\n\n      // 禁用select交互\n      this.select.setActive(false);\n      this.isSelecting = false;\n\n      this.selectedFeatures = [];\n\n      // 若有选中的要素，取消选中\n      this.features.forEach((row) => {\n        if (row.selected) {\n          row.selected = false;\n        }\n      });\n    },\n    onCheckChange() {\n      if (!this.map) return;\n\n      let lastLocate = null;\n      this.layers.forEach((layer) => {\n        // 设置图层可见性基于 checks 数组\n        layer.layer.setVisible(this.checks.includes(layer.name));\n\n        // 如果当前图层是最后一个选中的，更新 lastLocate\n        if (layer.name === this.checks[this.checks.length - 1]) {\n          lastLocate = layer.locate;\n          console.log(lastLocate);\n        }\n      });\n\n      // 如果有位置信息，更新地图视图\n      if (lastLocate) {\n        this.map.getView().setZoom(lastLocate[2]);\n        this.map.getView().setCenter([lastLocate[0], lastLocate[1]]);\n      }\n    },\n\n    //添加绘制点线面图层\n    addDrawLayer() {\n      this.drawVector = new VectorLayer({\n        source: this.drawSource,\n        //绘制好后，在地图上呈现的样式\n        style: new Style({\n          fill: new Fill({\n            color: \"rgba(255, 255, 255, 0.2)\",\n          }),\n          stroke: new Stroke({\n            //边界样式\n            color: \"#ffcc33\",\n            width: 3,\n          }),\n          //点样式继承image\n          image: new Circle({\n            radius: 7,\n            fill: new Fill({\n              color: \"#ffcc33\",\n            }),\n          }),\n        }),\n      });\n      this.map.addLayer(this.drawVector);\n    },\n    //清除绘制图层\n    clearDrawLayer() {\n      this.resetStatus();\n      this.drawVector.getSource().clear();\n      this.features = [];\n      this.undoStack = [];\n    },\n    //绘制点线面\n    drawFeature(featureType = \"\") {\n      this.resetStatus();\n\n      this.draw = new Draw({\n        source: this.drawSource,\n        type: featureType,\n        //绘制时，在地图上呈现的样式\n        style: new Style({\n          fill: new Fill({\n            color: \"rgba(255, 255, 255, 0.8)\",\n          }),\n          stroke: new Stroke({\n            color: \"#ffcc33\",\n            width: 2,\n          }),\n          image: new Circle({\n            radius: 7,\n            fill: new Fill({\n              color: \"#ffcc33\",\n            }),\n          }),\n        }),\n        // style: this.myStyle,\n      });\n      // 添加绘制交互\n      this.map.addInteraction(this.draw);\n\n      // 绘制结束事件\n      this.draw.on(\"drawend\", (event) => {\n        const feature = event.feature;\n        const type = feature.getGeometry().getType();\n        let id = this.randomId();\n        feature.setId(id);\n        feature.setStyle(this.myStyle);\n        let area = 0;\n        if (type === \"Polygon\") {\n          area = feature.getGeometry().getArea();\n        }\n\n        // 添加至features数组头部\n        this.features.unshift({\n          id: feature.getId(),\n          type: type,\n          area: area,\n          selected: false,\n        });\n\n        // 将当前要素添加到undoStack\n        this.undoStack.push(this.drawSource.getFeatures());\n      });\n    },\n    undo() {\n      if (this.undoStack.length >= 1) {\n        let lastStep = this.undoStack[this.undoStack.length - 1];\n        this.undoStack.pop(); // 删除最后一步\n        this.drawSource.clear(); // 清空绘图源\n        this.drawSource.addFeatures(lastStep); // 添加上一步的要素\n        this.features = lastStep; // 同步features数组\n      }\n    },\n    randomId() {\n      // 4位随机数\n      const id = Math.floor(Math.random() * 10000);\n      if (this.idList.includes(id)) {\n        return this.randomId();\n      }\n      this.idList.push(id);\n      return id;\n    },\n    //定位\n    locateFeature(row) {\n      const source = this.drawVector.getSource();\n      const features = source.getFeatures();\n      const feature = features.find((f) => f.getId() === row.id);\n      console.log(features[0]);\n      console.log(row.id);\n\n      if (feature) {\n        this.map.getView().fit(feature.getGeometry().getExtent());\n      }\n    },\n    //删除\n    deleteFeature(row) {\n      const source = this.drawVector.getSource();\n      const features = source.getFeatures();\n      const feature = features.find((f) => f.getId() === row.id);\n      if (feature) {\n        source.removeFeature(feature);\n        this.features = this.features.filter((f) => f.id !== row.id);\n      }\n    },\n    selectFeature() {\n      this.resetStatus();\n      this.isSelecting = true;\n\n      // 启用select交互\n      this.select.setActive(true);\n\n      const container = document.getElementById(\"popup\");\n      const content = document.getElementById(\"popup-content\");\n      const closer = document.getElementById(\"popup-closer\");\n\n      const overlay = new Overlay({\n        element: container,\n        autoPan: {\n          animation: {\n            duration: 250,\n          },\n        },\n      });\n\n      closer.onclick = function () {\n        overlay.setPosition(undefined);\n        closer.blur();\n        return false;\n      };\n\n      this.map.addOverlay(overlay);\n\n      // 选中要素事件\n      // 存储选中的要素\n\n      this.select.on(\"select\", function (e) {\n        e.target\n          .getFeatures()\n          .getArray()\n          .forEach((item) => {\n            console.log(item.values_);\n            let name = item.values_.SQNAME;\n            let drive_Aij_ = item.values_.drive_Aij_;\n            let walk_Aij_w = item.values_.walk_Aij_w;\n            let near_Aij_n = item.values_.near_Aij_n;\n            let plus_Aij_s = item.values_.plus_Aij_s;\n            content.innerHTML =\n              \"<p>地块名称:\" +\n              name +\n              \"</p><code>\" +\n              \"<p>near_Aij_n:\" +\n              near_Aij_n +\n              \"</p>\" +\n              \"<p>walk_Aij_w:\" +\n              walk_Aij_w +\n              \"</p>\" +\n              \"<p>drive_Aij_:\" +\n              drive_Aij_ +\n              \"</p>\" +\n              \"<p>plus_Aij_s:\" +\n              plus_Aij_s +\n              \"</p>\";\n            overlay.setPosition(item.getGeometry().getCoordinates());\n          });\n      });\n\n      this.map.on(\"singleclick\", function (evt) {\n        const coordinate = evt.coordinate;\n        const hdms = toStringHDMS(toLonLat(coordinate));\n\n        overlay.setPosition(coordinate);\n      });\n    },\n    translateFeature() {\n      this.map.removeInteraction(this.draw);\n\n      this.draw = new Select({\n        wrapX: false,\n      });\n\n      this.map.addInteraction(this.draw);\n\n      this.draw.on(\"select\", (event) => {\n        if (event.selected.length > 0) {\n          const feature = event.selected[0];\n          this.enableFeatureTranslate(feature);\n        }\n      });\n    },\n    enableFeatureTranslate(feature) {\n      this.translate = new Translate({\n        features: new Collection([feature]),\n      });\n\n      this.translate.on(\"translateend\", (event) => {\n        this.map.removeInteraction(this.translate);\n      });\n\n      this.map.addInteraction(this.translate);\n    },\n    editVertices() {\n      this.map.removeInteraction(this.draw);\n      this.map.removeInteraction(this.modify);\n\n      this.modify = new Modify({\n        source: this.drawSource,\n        style: new Style({\n          image: new CircleStyle({\n            radius: 5,\n            stroke: new Stroke({\n              color: \"rgba(0, 0, 0, 0.7)\",\n            }),\n            fill: new Fill({\n              color: \"rgba(255, 255, 255, 0.4)\",\n            }),\n          }),\n          stroke: new Stroke({\n            color: \"rgba(0, 0, 0, 0.7)\",\n            width: 2,\n          }),\n        }),\n      });\n\n      this.map.addInteraction(this.modify);\n    },\n\n    rotateFeature() {\n      this.resetStatus();\n\n      // this.draw = new Select({\n      //   wrapX: false,\n      // });\n\n      // this.map.addInteraction(this.draw);\n\n      // this.draw.on(\"select\", (event) => {\n      //   if (event.selected.length > 0) {\n      //     const feature = event.selected[0];\n      //     this.enableFeatureRotate(feature);\n      //   }\n      // });\n\n      this.features.forEach((row) => {\n        const feature = this.drawSource.getFeatureById(row.id);\n        if (feature) {\n          this.enableFeatureRotate(feature);\n        }\n      });\n\n      this.defaultStyle = new Modify({ source: this.drawVector.getSource() })\n        .getOverlay()\n        .getStyleFunction();\n    },\n\n    enableFeatureRotate(feature) {\n      this.transform = new Modify({\n        source: this.drawSource,\n        features: new Collection([feature]),\n        condition: (event) => {\n          return primaryAction(event) && !platformModifierKeyOnly(event);\n        },\n        deleteCondition: never,\n        insertVertexCondition: never,\n        style: (feature) => {\n          feature.get(\"features\").forEach((modifyFeature) => {\n            const modifyGeometry = modifyFeature.get(\"modifyGeometry\");\n            if (modifyGeometry) {\n              const point = feature.getGeometry().getCoordinates();\n              let modifyPoint = modifyGeometry.point;\n              if (!modifyPoint) {\n                modifyPoint = point;\n                modifyGeometry.point = modifyPoint;\n                modifyGeometry.geometry0 = modifyGeometry.geometry;\n                const result = this.calculateCenter(modifyGeometry.geometry0);\n                modifyGeometry.center = result.center;\n                modifyGeometry.minRadius = result.minRadius;\n              }\n\n              const center = modifyGeometry.center;\n              const minRadius = modifyGeometry.minRadius;\n              const coordinates = modifyGeometry.geometry.getCoordinates();\n              let dx, dy;\n              dx = modifyPoint[0] - center[0];\n              dy = modifyPoint[1] - center[1];\n              const initialRadius = Math.sqrt(dx * dx + dy * dy);\n              if (initialRadius > minRadius) {\n                const initialAngle = Math.atan2(dy, dx);\n                dx = point[0] - center[0];\n                dy = point[1] - center[1];\n                const currentRadius = Math.sqrt(dx * dx + dy * dy);\n                if (currentRadius > 0) {\n                  const currentAngle = Math.atan2(dy, dx);\n                  const geometry = modifyGeometry.geometry0.clone();\n                  geometry.scale(\n                    currentRadius / initialRadius,\n                    undefined,\n                    center\n                  );\n                  geometry.rotate(currentAngle - initialAngle, center);\n                  modifyGeometry.geometry = geometry;\n                }\n              }\n            }\n          });\n          return this.defaultStyle(feature);\n        },\n      });\n\n      this.map.addInteraction(this.transform);\n      this.transform.on(\"modifystart\", (event) => {\n        event.features.forEach((feature) => {\n          feature.set(\n            \"modifyGeometry\",\n            { geometry: feature.getGeometry().clone() },\n            true\n          );\n        });\n      });\n\n      this.transform.on(\"modifyend\", (event) => {\n        event.features.forEach((feature) => {\n          const modifyGeometry = feature.get(\"modifyGeometry\");\n          if (modifyGeometry) {\n            feature.setGeometry(modifyGeometry.geometry);\n            feature.unset(\"modifyGeometry\", true);\n          }\n        });\n      });\n\n      // this.changeInteraction();\n    },\n\n    changeInteraction() {\n      if (this.transform !== null) this.map.removeInteraction(this.transform);\n      if (this.transform !== null) {\n        this.transform.on(\"modifystart\", (event) => {\n          event.features.forEach((feature) => {\n            feature.set(\n              \"modifyGeometry\",\n              { geometry: feature.getGeometry().clone() },\n              true\n            );\n          });\n        });\n\n        this.transform.on(\"modifyend\", (event) => {\n          event.features.forEach((feature) => {\n            const modifyGeometry = feature.get(\"modifyGeometry\");\n            if (modifyGeometry) {\n              feature.setGeometry(modifyGeometry.geometry);\n              feature.unset(\"modifyGeometry\", true);\n            }\n          });\n        });\n      }\n    },\n    calculateCenter(geometry) {\n      let center, coordinates, minRadius;\n      const type = geometry.getType();\n      if (type === \"Polygon\") {\n        let x = 0;\n        let y = 0;\n        let i = 0;\n        coordinates = geometry.getCoordinates()[0].slice(1);\n        coordinates.forEach((coordinate) => {\n          x += coordinate[0];\n          y += coordinate[1];\n          i++;\n        });\n        center = [x / i, y / i];\n      } else if (type === \"LineString\") {\n        center = geometry.getCoordinateAt(0.5);\n        coordinates = geometry.getCoordinates();\n      } else {\n        center = getCenter(geometry.getExtent());\n      }\n      let sqDistances;\n      if (coordinates) {\n        sqDistances = coordinates.map((coordinate) => {\n          const dx = coordinate[0] - center[0];\n          const dy = coordinate[1] - center[1];\n          return dx * dx + dy * dy;\n        });\n        minRadius = Math.sqrt(Math.max.apply(Math, sqDistances)) / 3;\n      } else {\n        minRadius =\n          Math.max(\n            getWidth(geometry.getExtent()),\n            getHeight(geometry.getExtent())\n          ) / 3;\n      }\n      return {\n        center: center,\n        coordinates: coordinates,\n        minRadius: minRadius,\n        sqDistances: sqDistances,\n      };\n    },\n    measureDistance() {\n      this.resetStatus();\n      this.measureInteraction = new Draw({\n        source: this.drawSource,\n        type: \"LineString\",\n        style: new Style({\n          stroke: new Stroke({\n            color: \"rgba(0, 0, 255, 0.5)\",\n            lineDash: [10, 10],\n            width: 2,\n          }),\n        }),\n      });\n      this.map.addInteraction(this.measureInteraction);\n\n      this.measureInteraction.on(\"drawstart\", (event) => {\n        const measureTooltipElement = document.createElement(\"div\");\n        measureTooltipElement.className = \"ol-tooltip ol-tooltip-measure\";\n        this.createMeasureTooltip(event.feature, measureTooltipElement);\n      });\n\n      this.measureInteraction.on(\"drawend\", (event) => {\n        // this.measureInteraction.setActive(false);\n\n        // 获取绘制的要素\n        const feature = event.feature;\n\n        // 设置要素的样式为虚线\n        feature.setStyle(\n          new Style({\n            stroke: new Stroke({\n              color: \"rgba(0, 0, 255, 0.5)\",\n              lineDash: [10, 10],\n              width: 3,\n            }),\n          })\n        );\n      });\n    },\n\n    createMeasureTooltip(feature, tooltipElement) {\n      const tooltipCoord = feature.getGeometry().getLastCoordinate();\n      tooltipElement.innerHTML = \"起点\";\n\n      const tooltip = new Overlay({\n        element: tooltipElement,\n        offset: [0, -15],\n        positioning: \"bottom-center\",\n      });\n      this.map.addOverlay(tooltip);\n\n      let listener;\n      feature.getGeometry().on(\"change\", (evt) => {\n        const geom = evt.target;\n        const output = this.formatLength(geom);\n        tooltipElement.innerHTML = output;\n        tooltip.setPosition(geom.getLastCoordinate());\n      });\n\n      feature.on(\"change\", () => {\n        this.map.removeOverlay(tooltip);\n        unByKey(listener);\n      });\n    },\n\n    formatLength(line) {\n      const length = getLength(line);\n      let output;\n      if (length > 100) {\n        output = Math.round((length / 1000) * 100) / 100 + \" km\";\n      } else {\n        output = Math.round(length * 100) / 100 + \" m\";\n      }\n      return output;\n    },\n\n    onZoom(isZoomIn) {\n      if (!this.view) return;\n      const curZoom = this.view.getZoom();\n      this.view.setZoom(isZoomIn ? curZoom + 1 : curZoom - 1);\n    },\n    onMoveWh() {\n      if (!this.view) return;\n      console.log(this.view);\n      this.view.setCenter([12732996.6685, 3551713.9202]);\n      this.view.setZoom(12);\n    },\n    // 复位\n    onRestore() {\n      if (!this.view) return;\n\n      this.view.setZoom(this.zoom);\n      this.view.setCenter(this.center);\n      this.view.setRotation(this.rotation);\n    },\n    onScaleChange(type) {\n      if (!this.olmap) return;\n\n      // 移除旧比例尺\n      this.scale && this.olmap.removeControl(this.scale);\n      // 创建新比例尺\n      this.scale = new ScaleLine({ bar: type === \"bar\" });\n      // 添加到地图\n      this.olmap.addControl(this.scale);\n    },\n    openFileUpload() {\n      this.$refs.fileInput.click();\n    },\n    onFileUpload(event) {\n      const file = event.target.files[0];\n      if (file) {\n        const file = event.target.files[0];\n        const fileName = file.name.toLowerCase();\n\n        if (fileName.endsWith(\".json\") || fileName.endsWith(\".geojson\")) {\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            const content = e.target.result;\n            this.loadJsonFile(content);\n          };\n          reader.readAsText(file);\n        } else if (fileName.endsWith(\".zip\")) {\n          this.loadShapefile(file);\n        } else {\n          console.error(\"Unsupported file format.\");\n        }\n      }\n    },\n    loadJsonFile(content) {\n      const format = new GeoJSON();\n      const features = format.readFeatures(content);\n      if (features.length > 0) {\n        this.drawSource.addFeatures(features);\n        features.forEach((feature) => {\n          const type = feature.getGeometry().getType();\n          let area = 0;\n          if (type === \"Polygon\") {\n            area = feature.getGeometry().getArea();\n          }\n          this.features.push({\n            id: feature.getId() || this.randomId(),\n            type: type,\n            area: area,\n            selected: false,\n          });\n        });\n        this.map.getView().fit(this.drawSource.getExtent());\n      } else {\n        console.error(\"No features found in the uploaded file.\");\n      }\n    },\n    async loadShapefile(file) {\n      const reader = new FileReader();\n      reader.onload = async (e) => {\n        const arrayBuffer = e.target.result;\n        const geojsons = await this.convertShpToGeoJSON(arrayBuffer);\n        this.displayGeojson(geojsons);\n      };\n      reader.readAsArrayBuffer(file);\n    },\n    async convertShpToGeoJSON(arrayBuffer) {\n      const shpData = await shp(arrayBuffer);\n      let geojsons = [];\n\n      // 检查是否为数组\n      if (!Array.isArray(shpData)) {\n        const geojson = new GeoJSON().readFeatures(shpData);\n        geojsons.push(...geojson);\n      } else {\n        shpData.forEach((data) => {\n          const geojson = new GeoJSON().readFeatures(data);\n          geojsons.push(...geojson);\n        });\n      }\n\n      // 转换投影\n      geojsons = geojsons.map((geojson) => {\n        geojson.getGeometry().transform(\"EPSG:4326\", \"EPSG:3857\");\n        return geojson;\n      });\n\n      return geojsons;\n    },\n\n    displayGeojson(geojsons) {\n      console.log(geojsons);\n\n      let bounds = null;\n\n      // 定义样式\n      const geojsonStyle = new Style({\n        fill: new Fill({\n          color: \"rgba(245, 243, 240, 0.6)\", // 灰色\n        }),\n        stroke: new Stroke({\n          color: \"rgba(102, 102, 115)\",\n          width: 2,\n        }),\n        image: new CircleStyle({\n          radius: 7,\n          fill: new Fill({\n            color: \"rgba(255, 255, 255, 0.2)\",\n          }),\n        }),\n      });\n\n      geojsons.forEach((geojson) => {\n        // 添加阴影效果\n        geojson.setStyle(geojsonStyle);\n\n        // 添加到地图\n        this.drawSource.addFeature(geojson);\n\n        if (!geojson.getId()) {\n          geojson.setId(this.randomId());\n        }\n\n        this.features.push({\n          id: geojson.getId(),\n          type: geojson.getGeometry().getType(),\n          area: 0,\n          selected: false,\n        });\n\n        // 计算边界\n        const extent = geojson.getGeometry().getExtent();\n        if (bounds) {\n          bounds = [\n            Math.min(bounds[0], extent[0]),\n            Math.min(bounds[1], extent[1]),\n            Math.max(bounds[2], extent[2]),\n            Math.max(bounds[3], extent[3]),\n          ];\n        } else {\n          bounds = extent;\n        }\n      });\n\n      if (bounds) {\n        this.map.getView().fit(bounds);\n      }\n    },\n\n    // 初始化地图\n    initMap() {\n      let source = newBaseSource(\"OSM\");\n\n      this.map = new Map({\n        // controls: defaultControls().extend([overviewMapControl]),\n        target: \"mapDom\",\n        // layers: layers,\n        view: new View({\n          projection: \"EPSG:3857\",\n          center: [12758612.973162018, 3562849.0216611675],\n          zoom: 17.5,\n        }),\n      });\n\n      this.setBasemap(\"Gaode\");\n\n      console.log(this.map);\n\n      this.view = this.map.getView();\n      this.zoom = this.view.getZoom();\n      this.center = this.view.getCenter();\n      this.rotation = this.view.getRotation();\n\n      // 创建缩放控件\n      const zoom = new Zoom();\n\n      // 创建缩放滑块控件\n      const zoomSlider = new ZoomSlider();\n\n      // 创建缩放到范围，默认使用view的投影范围\n      const zoomToExtent = new ZoomToExtent();\n\n      // 缩放控件添加到地图\n      this.map.addControl(zoom);\n      this.map.addControl(zoomSlider);\n      this.map.addControl(zoomToExtent);\n\n      // 获取主地图\n      const baseLayer = this.map.getLayers().item(0);\n      console.log(baseLayer);\n\n      // 创建鹰眼控件\n      const miniMap = new OverviewMap({\n        className: \"ol-overviewmap ol-custom-overviewmap\",\n        collapsed: false,\n        layers: [new TileLayer({ source: baseLayer.getSource() })],\n      });\n\n      // 控件添加到地图\n      this.map.addControl(miniMap);\n\n      // 创建鼠标位置控件\n      const mousePos = new MousePosition({\n        coordinateFormat: createStringXY(4),\n        projection: \"EPSG:4326\",\n        // className: \"mousePos\",\n        // target: document.getElementById(\"mouse-position\"),\n      });\n\n      // 比例尺\n      // this.olmap = this.map;\n      // 创建默认比例尺\n      this.scale = new ScaleLine();\n      this.map.addControl(this.scale);\n\n      // 控件添加到地图\n      this.map.addControl(mousePos);\n\n      // // 增加鼠标悬停效果\n      // this.map.on(\"pointermove\", (event) => {\n      //   let hoveredFeature = null;\n\n      //   let selected = false;\n\n      //   this.map.forEachFeatureAtPixel(event.pixel, (feature) => {\n      //     hoveredFeature = feature;\n      //   });\n\n      //   // 恢复除悬停要素外的样式\n      //   this.drawSource.getFeatures().forEach((feature) => {\n      //     selected = this.selectedFeatures.includes(feature);\n\n      //     if (feature !== hoveredFeature && !selected) {\n      //       feature.setStyle(this.myStyle);\n      //     }\n      //   });\n\n      //   // 设置悬停要素的样式\n      //   if (hoveredFeature) {\n      //     if (!selected) {\n      //       hoveredFeature.setStyle(\n      //         new Style({\n      //           stroke: new Stroke({\n      //             color: \"yellow\",\n      //             width: 2,\n      //           }),\n      //           fill: new Fill({\n      //             color: \"rgba(255, 255, 0, 0.3)\",\n      //           }),\n      //         })\n      //       );\n      //     }\n      //   }\n      // });\n\n      this.select = new Select({\n        condition: singleClick,\n        // toggleCondition: always,\n        toggleCondition: platformModifierKeyOnly,\n        style: new Style({\n          fill: new Fill({\n            color: \"rgba(255, 255, 0, 0.7)\",\n          }),\n          stroke: new Stroke({\n            color: \"rgba(0, 0, 0, 0.7)\",\n            width: 2,\n          }),\n        }),\n      });\n\n      this.map.addInteraction(this.select);\n    },\n    // onFeatureSelectChange(row) {\n    //   const feature = this.drawSource.getFeatureById(row.id);\n    //   if (feature) {\n    //     feature.set(\"selected\", row.selected);\n    //     if (row.selected) {\n    //       this.selectedFeatures.push(feature);\n    //     } else {\n    //       const index = this.selectedFeatures.indexOf(feature);\n    //       if (index > -1) {\n    //         this.selectedFeatures.splice(index, 1);\n    //       }\n    //     }\n    //     this.updateSelectInteraction();\n    //   }\n    // },\n    onFeatureSelectChange(row) {\n      const feature = this.drawSource.getFeatureById(row.id);\n      if (row.selected) {\n        this.select.getFeatures().push(feature);\n      } else {\n        this.select.getFeatures().remove(feature);\n      }\n      this.selectedFeatures = this.select.getFeatures().getArray();\n    },\n    updateSelectInteraction() {\n      if (this.draw instanceof Select) {\n        this.draw.getFeatures().clear();\n        this.draw.getFeatures().extend(this.selectedFeatures);\n      }\n    },\n\n    viewFeatureGeoJSON(row) {\n      const feature = this.drawSource.getFeatureById(row.id);\n      if (feature) {\n        const geojson = new GeoJSON().writeFeatureObject(feature);\n        this.parsedGeoJSON = geojson;\n        this.geoJSONViewerVisible = true;\n      }\n      console.log(this.parsedGeoJSON);\n    },\n    closeGeoJSONViewer() {\n      this.geoJSONViewerVisible = false;\n    },\n    exportFeatureGeoJSON(row) {\n      const feature = this.drawSource.getFeatureById(row.id);\n      if (feature) {\n        const geojson = new GeoJSON().writeFeature(feature);\n        const blob = new Blob([geojson], { type: \"application/json\" });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.download = `feature-${row.id}.geojson`;\n        link.click();\n        URL.revokeObjectURL(url);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.logo {\n  display: inline-flex; /* 或者使用 display: flex; 根据需要 */\n  align-items: center; /* 垂直居中对齐 */\n  font-size: 1.5em; /* 调整字体大小 */\n  font-weight: bold; /* 调整字体粗细 */\n  color: #333; /* 调整文本颜色 */\n}\n\n.logo-icon {\n  width: 40px; /* 调整图标宽度 */\n  height: 40px; /* 调整图标高度 */\n  margin-right: 10px; /* 图标与文本之间的间距 */\n  vertical-align: middle; /* 确保图标垂直居中对齐文本 */\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 80vh;\n  /* padding: 10px;  */\n  margin-left: 80px;\n  margin-right: 80px;\n  margin-top: 20px;\n  box-sizing: border-box;\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  /* background-color: #f5f5f5; */\n  /* padding: 10px 20px; */\n  margin-left: 80px;\n  margin-right: 80px;\n  margin-top: 20px;\n  border-radius: 8px; /* 圆角 */\n}\n\n.logo {\n  font-size: 24px;\n  font-weight: bold;\n}\n\n.nav {\n  display: flex;\n  gap: 10px;\n}\n\n.promotion {\n  font-size: 14px;\n  color: red;\n}\n\n.map-wrapper {\n  position: relative;\n  flex: 1;\n  display: flex;\n  height: calc(100% - 50px); /* Adjust height to consider the header */\n}\n\n.legend {\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  background-color: rgba(255, 255, 255, 0.8); /* 可选：设置背景颜色和透明度 */\n  padding: 5px; /* 可选：设置内边距 */\n  border-radius: 5px; /* 可选：设置圆角 */\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); /* 可选：设置阴影 */\n}\n\n.legend img {\n  display: block;\n  width: 300px; /* 设置图例图片的宽度 */\n  height: 40px;\n}\n\n#mapDom {\n  flex: 1;\n  height: 100%;\n}\n\n.toolbar {\n  position: absolute;\n  top: 290px;\n  left: 10px;\n  z-index: 1000;\n  max-width: 5%;\n  display: flex;\n  flex-direction: column;\n}\n\n.map-controls {\n  position: absolute;\n  top: 290px;\n  left: 100px;\n  z-index: 1000;\n  max-width: 5%;\n  display: flex;\n  flex-direction: column;\n}\n\n.basemap-container {\n  position: absolute;\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 1000;\n  background-color: #fff;\n  padding: 10px;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  display: flex;\n}\n\n.basemap-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: 10px;\n  cursor: pointer;\n}\n\n.basemap-item img {\n  width: 80px;\n  height: 80px;\n  object-fit: cover;\n  border-radius: 4px;\n}\n\n.basemap-item span {\n  margin-top: 5px;\n  font-size: 12px;\n}\n\n.button-group {\n  margin-bottom: 10px;\n}\n\n.button-group:last-child {\n  margin-bottom: 0;\n}\n\n.layers-control {\n  position: absolute;\n  top: 40px;\n  right: 10px;\n  width: 200px;\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.attribute-panel {\n  flex: 1;\n  padding: 10px;\n  margin-top: 10px;\n  overflow: auto;\n  background: #fff;\n  border: 1px solid #dcdcdc;\n  margin-left: 80px;\n  margin-right: 80px;\n  border-radius: 8px;\n}\n\n.el-dialog__body {\n  max-height: 70vh;\n  overflow: auto;\n}\n\n.ol-tooltip {\n  position: relative;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 4px;\n  color: white;\n  padding: 4px 8px;\n  opacity: 0.7;\n  white-space: nowrap;\n  font-size: 12px;\n}\n.ol-tooltip-measure {\n  opacity: 1;\n  font-weight: bold;\n}\n.ol-tooltip-measure::before {\n  border-top: 6px solid rgba(0, 0, 0, 0.5);\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  content: \"\";\n  position: absolute;\n  bottom: -6px;\n  margin-left: -7px;\n  left: 50%;\n}\n.geojson-viewer {\n  position: absolute;\n  width: 300px;\n  max-height: 90%;\n  overflow-y: auto;\n  z-index: 1000;\n  background: white;\n  border-radius: 8px; /* 圆角 */\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); /* 阴影效果 */\n}\n\n.close-button {\n  float: right;\n  padding: 0;\n  color: #f56c6c;\n}\n\n.active {\n  background-color: #409eff;\n  color: #fff;\n}\n\n/* 鹰眼控件 */\n.map .ol-custom-overviewmap,\n.map .ol-custom-overviewmap.ol-uncollapsible {\n  bottom: auto;\n  left: auto;\n  right: 0;\n  top: 0;\n}\n\n.map .ol-custom-overviewmap:not(.ol-collapsed) {\n  border: 1px solid black;\n}\n\n.map .ol-custom-overviewmap .ol-overviewmap-map {\n  border: none;\n  width: 300px;\n}\n\n.map .ol-custom-overviewmap .ol-overviewmap-box {\n  border: 2px solid red;\n}\n\n.map .ol-custom-overviewmap:not(.ol-collapsed) button {\n  bottom: auto;\n  left: auto;\n  right: 1px;\n  top: 1px;\n}\n\n.chart-panel {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: 10px;\n  /* right: 10px; */\n  height: 45%;\n  width: 50%;\n  background: #fff;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  /* transition: 0.3s ease; */\n  z-index: 1000;\n}\n.collapse {\n  transform: translateX(100%);\n}\n.chart-header {\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n\n  text-align: center;\n\n  font-size: 16px;\n}\n.el-icon-close {\n  float: right;\n  cursor: pointer;\n}\n.chart-body-1 {\n  padding: 5px;\n}\n\n.chart-body-2 {\n  padding: 5px;\n}\n\n.ol-popup {\n  position: absolute;\n  background-color: white;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\n  padding: 15px;\n  border-radius: 10px;\n  border: 1px solid #cccccc;\n  bottom: 12px;\n  left: -50px;\n  min-width: 280px;\n}\n.ol-popup:after,\n.ol-popup:before {\n  top: 100%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n.ol-popup:after {\n  border-top-color: white;\n  border-width: 10px;\n  left: 48px;\n  margin-left: -10px;\n}\n.ol-popup:before {\n  border-top-color: #cccccc;\n  border-width: 11px;\n  left: 48px;\n  margin-left: -11px;\n}\n.ol-popup-closer {\n  text-decoration: none;\n  position: absolute;\n  top: 2px;\n  right: 8px;\n}\n.ol-popup-closer:after {\n  content: \"✖\";\n}\n.chart-body-2 .block {\n  padding: 5px 0;\n  text-align: center;\n  border-right: solid 1px var(--el-border-color);\n  display: inline-block;\n  width: 50%;\n  box-sizing: border-box;\n  vertical-align: top;\n}\n.chart-body-2 .block:last-child {\n  border-right: none;\n}\n.chart-body-2 .demonstration {\n  display: block;\n  color: var(--el-text-color-secondary);\n  font-size: 10px;\n  margin-bottom: 3px;\n}\n\n.suggestion-panel {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  margin: 20px 0;\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  background-color: #f9f9f9;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  width: 20%;\n}\n\n.suggestion-panel p {\n  margin: 0;\n  font-size: 1em;\n  color: #606266;\n}\n</style>\n","import { OSM, XYZ } from \"ol/source\";\nimport { BingMaps } from \"ol/source\";\nimport { Vector as VectorSource } from \"ol/source\";\nimport { GeoJSON } from \"ol/format\";\n\nfunction newBaseSource(name) {\n  let source;\n  let bingKey =\n    \"AvehefmVM_surC2UyDjyO2T_EvSgRUA9Te3_9D_sj88ZYEBNNWxaufCSPGzecf-B\";\n  switch (name) {\n    case \"OSM\":\n      source = new OSM();\n      break;\n    case \"Satellite\":\n      source = new XYZ({\n        url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\n        maxZoom: 19,\n      });\n      break;\n\n    case \"Tian\":\n      source = new XYZ({\n        url: \"http://t{0-7}.tianditu.gov.cn/vec_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=vec&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=719a5d3d8f259e8c5554d3fbb491fbdb\",\n        maxZoom: 18,\n        projection: \"EPSG:4326\",\n      });\n      break;\n    case \"Gaode\":\n      source = new XYZ({\n        url: \"http://webst01.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}\",\n        maxZoom: 18,\n      });\n      break;\n    case \"Bing\":\n      bingKey =\n        \"AvehefmVM_surC2UyDjyO2T_EvSgRUA9Te3_9D_sj88ZYEBNNWxaufCSPGzecf-B\";\n      source = new BingMaps({\n        key: bingKey,\n        imagerySet: \"RoadOnDemand\",\n      });\n      break;\n    case \"GeoJSON\":\n      source = new VectorSource({\n        url: \"../data/line.geojson\",\n        format: new GeoJSON({\n          dataProjection: \"EPSG:4326\",\n          featureProjection: \"EPSG:3857\",\n        }),\n      });\n      break;\n\n    default:\n      source = new OSM();\n  }\n  return source;\n}\n\nexport default newBaseSource;\n","/* eslint-disable */\n\nvar MCBAND = [12890594.86, 8362377.87, 5591021, 3481989.83, 1678043.12, 0];\nvar LLBAND = [75, 60, 45, 30, 15, 0];\nvar MC2LL = [\n  [\n    1.410526172116255e-8, 0.00000898305509648872, -1.9939833816331,\n    200.9824383106796, -187.2403703815547, 91.6087516669843, -23.38765649603339,\n    2.57121317296198, -0.03801003308653, 17337981.2,\n  ],\n  [\n    -7.435856389565537e-9, 0.000008983055097726239, -0.78625201886289,\n    96.32687599759846, -1.85204757529826, -59.36935905485877, 47.40033549296737,\n    -16.50741931063887, 2.28786674699375, 10260144.86,\n  ],\n  [\n    -3.030883460898826e-8, 0.00000898305509983578, 0.30071316287616,\n    59.74293618442277, 7.357984074871, -25.38371002664745, 13.45380521110908,\n    -3.29883767235584, 0.32710905363475, 6856817.37,\n  ],\n  [\n    -1.981981304930552e-8, 0.000008983055099779535, 0.03278182852591,\n    40.31678527705744, 0.65659298677277, -4.44255534477492, 0.85341911805263,\n    0.12923347998204, -0.04625736007561, 4482777.06,\n  ],\n  [\n    3.09191371068437e-9, 0.000008983055096812155, 0.00006995724062,\n    23.10934304144901, -0.00023663490511, -0.6321817810242, -0.00663494467273,\n    0.03430082397953, -0.00466043876332, 2555164.4,\n  ],\n  [\n    2.890871144776878e-9, 0.000008983055095805407, -3.068298e-8,\n    7.47137025468032, -0.00000353937994, -0.02145144861037, -0.00001234426596,\n    0.00010322952773, -0.00000323890364, 826088.5,\n  ],\n];\n\nvar LL2MC = [\n  [\n    -0.0015702102444, 111320.7020616939, 1704480524535203, -10338987376042340,\n    26112667856603880, -35149669176653700, 26595700718403920,\n    -10725012454188240, 1800819912950474, 82.5,\n  ],\n  [\n    0.0008277824516172526, 111320.7020463578, 647795574.6671607,\n    -4082003173.641316, 10774905663.51142, -15171875531.51559,\n    12053065338.62167, -5124939663.577472, 913311935.9512032, 67.5,\n  ],\n  [\n    0.00337398766765, 111320.7020202162, 4481351.045890365, -23393751.19931662,\n    79682215.47186455, -115964993.2797253, 97236711.15602145,\n    -43661946.33752821, 8477230.501135234, 52.5,\n  ],\n  [\n    0.00220636496208, 111320.7020209128, 51751.86112841131, 3796837.749470245,\n    992013.7397791013, -1221952.21711287, 1340652.697009075, -620943.6990984312,\n    144416.9293806241, 37.5,\n  ],\n  [\n    -0.0003441963504368392, 111320.7020576856, 278.2353980772752,\n    2485758.690035394, 6070.750963243378, 54821.18345352118, 9540.606633304236,\n    -2710.55326746645, 1405.483844121726, 22.5,\n  ],\n  [\n    -0.0003218135878613132, 111320.7020701615, 0.00369383431289,\n    823725.6402795718, 0.46104986909093, 2351.343141331292, 1.58060784298199,\n    8.77738589078284, 0.37238884252424, 7.45,\n  ],\n];\n\n// eslint-disable-next-line no-unused-vars\nexport function lngLatToMercator(T) {\n  var c = new cd(T[0], T[1]);\n  var r = convertLL2MC(c);\n  return [r.lng, r.lat];\n}\n\n// eslint-disable-next-line no-unused-vars\nexport function mercatorToLngLat(T) {\n  var c = new cd(T[0], T[1]);\n  var r = convertMC2LL(c);\n  return [r.lng, r.lat];\n}\n\nfunction convertLL2MC(T) {\n  var cL, cN;\n  T.lng = getLoop(T.lng, -180, 180);\n  T.lat = getRange(T.lat, -74, 74);\n  cL = new cd(T.lng, T.lat);\n  for (var cM = 0; cM < LLBAND.length; cM++) {\n    if (cL.lat >= LLBAND[cM]) {\n      cN = LL2MC[cM];\n      break;\n    }\n  }\n  if (!cN) {\n    for (var cM = LLBAND.length - 1; cM >= 0; cM--) {\n      if (cL.lat <= -LLBAND[cM]) {\n        cN = LL2MC[cM];\n        break;\n      }\n    }\n  }\n  var cO = convertor(T, cN);\n  var T = new cd(cO.lng.toFixed(2), cO.lat.toFixed(2));\n  return T;\n}\n\nfunction convertMC2LL(cL) {\n  var cM, cO;\n  cM = new cd(Math.abs(cL.lng), Math.abs(cL.lat));\n  for (var cN = 0; cN < MCBAND.length; cN++) {\n    if (cM.lat >= MCBAND[cN]) {\n      cO = MC2LL[cN];\n      break;\n    }\n  }\n  var T = convertor(cL, cO);\n  var cL = new cd(T.lng.toFixed(6), T.lat.toFixed(6));\n  return cL;\n}\n\nfunction getRange(cM, cL, T) {\n  if (cL != null) {\n    cM = Math.max(cM, cL);\n  }\n  if (T != null) {\n    cM = Math.min(cM, T);\n  }\n  return cM;\n}\n\nfunction getLoop(cM, cL, T) {\n  while (cM > T) {\n    cM -= T - cL;\n  }\n  while (cM < cL) {\n    cM += T - cL;\n  }\n  return cM;\n}\n\nfunction convertor(cM, cN) {\n  if (!cM || !cN) {\n    return;\n  }\n  var T = cN[0] + cN[1] * Math.abs(cM.lng);\n  var cL = Math.abs(cM.lat) / cN[9];\n  var cO =\n    cN[2] +\n    cN[3] * cL +\n    cN[4] * cL * cL +\n    cN[5] * cL * cL * cL +\n    cN[6] * cL * cL * cL * cL +\n    cN[7] * cL * cL * cL * cL * cL +\n    cN[8] * cL * cL * cL * cL * cL * cL;\n  T *= cM.lng < 0 ? -1 : 1;\n  cO *= cM.lat < 0 ? -1 : 1;\n  return new cd(T, cO);\n}\n\nfunction cd(T, cL) {\n  if (isNaN(T)) {\n    T = bV(T);\n    T = isNaN(T) ? 0 : T;\n  }\n  if (b3(T)) {\n    T = parseFloat(T);\n  }\n  if (isNaN(cL)) {\n    cL = bV(cL);\n    cL = isNaN(cL) ? 0 : cL;\n  }\n  if (b3(cL)) {\n    cL = parseFloat(cL);\n  }\n  this.lng = T;\n  this.lat = cL;\n}\ncd.isInRange = function (T) {\n  return T && T.lng <= 180 && T.lng >= -180 && T.lat <= 74 && T.lat >= -74;\n};\ncd.prototype.equals = function (T) {\n  return T && lat == T.lat && lng == T.lng;\n};\n\nfunction bV(cN) {\n  var cL = \"\";\n  var cU,\n    cS,\n    cQ = \"\";\n  var cT,\n    cR,\n    cP,\n    cO = \"\";\n  var cM = 0;\n  var T = /[^A-Za-z0-9\\+\\/\\=]/g;\n  if (!cN || T.exec(cN)) {\n    return cN;\n  }\n  cN = cN.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n  do {\n    cT = cf.indexOf(cN.charAt(cM++));\n    cR = cf.indexOf(cN.charAt(cM++));\n    cP = cf.indexOf(cN.charAt(cM++));\n    cO = cf.indexOf(cN.charAt(cM++));\n    cU = (cT << 2) | (cR >> 4);\n    cS = ((cR & 15) << 4) | (cP >> 2);\n    cQ = ((cP & 3) << 6) | cO;\n    cL = cL + String.fromCharCode(cU);\n    if (cP != 64) {\n      cL = cL + String.fromCharCode(cS);\n    }\n    if (cO != 64) {\n      cL = cL + String.fromCharCode(cQ);\n    }\n    cU = cS = cQ = \"\";\n    cT = cR = cP = cO = \"\";\n  } while (cM < cN.length);\n  return cL;\n}\n\nfunction b3(T) {\n  return typeof T == \"string\";\n}\n","import { OSM, XYZ } from \"ol/source\";\nimport { BingMaps } from \"ol/source\";\nimport { Vector as VectorSource } from \"ol/source\";\nimport { GeoJSON } from \"ol/format\";\nimport TileLayer from \"ol/layer/Tile.js\";\nimport {\n  addCoordinateTransforms,\n  addProjection,\n  Projection,\n  transform,\n} from \"ol/proj\";\nimport { TileGrid } from \"ol/tilegrid\";\nimport { TileImage } from \"ol/source\";\nimport Tile from \"ol/layer/Tile\"; // 瓦片渲染方法\nimport { lngLatToMercator, mercatorToLngLat } from \"@/utils/bd09\";\n\nimport { get as getProj } from \"ol/proj\";\nimport { getWidth } from \"ol/extent\";\nimport WMTS from \"ol/source/WMTS.js\";\nimport WMTSTileGrid from \"ol/tilegrid/WMTS.js\";\n\nlet tianKey = \"719a5d3d8f259e8c5554d3fbb491fbdb\";\nlet bingKey =\n  \"AvehefmVM_surC2UyDjyO2T_EvSgRUA9Te3_9D_sj88ZYEBNNWxaufCSPGzecf-B\";\n\nfunction createLyrBd() {\n  let projBD09 = new Projection({\n    code: \"BD:09\",\n    extent: [-20037726.37, -11708041.66, 20037726.37, 12474104.17],\n    units: \"m\",\n    axisOrientation: \"neu\",\n    global: false,\n  });\n\n  addProjection(projBD09);\n  addCoordinateTransforms(\n    \"EPSG:4326\",\n    projBD09,\n    function (coordinate) {\n      // eslint-disable-next-line no-undef\n      return lngLatToMercator(coordinate);\n    },\n    function (coordinate) {\n      // eslint-disable-next-line no-undef\n      return mercatorToLngLat(coordinate);\n    }\n  );\n  /*定义百度地图分辨率与瓦片网格*/\n  let resolutions = [];\n  for (let i = 0; i <= 18; i++) {\n    resolutions[i] = Math.pow(2, 18 - i);\n  }\n\n  let tilegrid = new TileGrid({\n    origin: [0, 0],\n    resolutions: resolutions,\n  });\n\n  /*加载百度地图离线瓦片不能用ol.source.XYZ，ol.source.XYZ针对谷歌地图（注意：是谷歌地图）而设计，\n      而百度地图与谷歌地图使用了不同的投影、分辨率和瓦片网格。因此这里使用ol.source.TileImage来自行指定\n      投影、分辨率、瓦片网格。*/\n  let baidu_source = new TileImage({\n    projection: projBD09, //投影类型\n    tileGrid: tilegrid,\n    tileUrlFunction: function (tileCoord) {\n      if (!tileCoord) return \"\";\n      let z = tileCoord[0];\n      let x = tileCoord[1];\n      let y = tileCoord[2];\n      // 对编号xy处理\n      let baiduX;\n      baiduX = x < 0 ? x : \"M\" + -x;\n      let baiduY;\n      baiduY = -y;\n      console.log(\"BD-09: \", x, y);\n      console.log(\"WGS84: \", baiduX, baiduY);\n\n      return (\n        \"http://online3.map.bdimg.com/onlinelabel/?qt=tile&x=\" +\n        baiduX +\n        \"&y=\" +\n        baiduY +\n        \"&z=\" +\n        z +\n        \"&styles=pl&udt=20151021&scaler=1&p=1\"\n      );\n    },\n  });\n\n  let baidu_layer = new Tile({\n    source: baidu_source,\n  });\n\n  return baidu_layer;\n}\n\nfunction createLyrWMTS() {\n  // 1-构造分辨率序列\n  const size = getWidth(getProj(\"EPSG:4326\").getExtent()) / 256;\n  const resolutions = [];\n  const matrixIds = [];\n  for (let i = 0; i < 19; i++) {\n    resolutions.push(size / Math.pow(2, i));\n    matrixIds.push(i);\n  }\n\n  // 2-创建切片规则对象\n  const tileGrid = new WMTSTileGrid({\n    origin: [-180, 90],\n    resolutions: resolutions,\n    matrixIds: matrixIds,\n  });\n\n  // 3-创建瓦片图层和wmts数据源\n  return new TileLayer({\n    properties: {\n      name: \"wmts\",\n      title: \"WMTS服务\",\n    },\n    source: new WMTS({\n      url: `http://t{0-7}.tianditu.gov.cn/vec_c/wmts?tk=${tianKey}`,\n      projection: \"EPSG:4326\",\n      tileGrid: tileGrid,\n      crossOrigin: \"*\",\n      format: \"image/png\",\n      layer: \"vec\",\n      matrixSet: \"c\",\n      style: \"default\",\n    }),\n  });\n}\n\nfunction newLayer(name) {\n  // let source;\n  let layer;\n\n  switch (name) {\n    case \"OSM\":\n      // source = new OSM();\n      layer = new TileLayer({\n        properties: {\n          name: \"osm\",\n          title: \"OpenStreetMap地图\",\n        },\n        source: new OSM(),\n      });\n\n      break;\n    case \"ArcGIS\":\n      layer = new TileLayer({\n        properties: {\n          name: \"arc\",\n          title: \"Arcgis地图\",\n        },\n        source: new XYZ({\n          url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\n          maxZoom: 19,\n        }),\n      });\n      break;\n\n    case \"Tian\":\n      layer = new TileLayer({\n        properties: {\n          name: \"tian\",\n          title: \"天地图\",\n        },\n        source: new XYZ({\n          projection: \"EPSG:4326\",\n          url: `http://t{0-7}.tianditu.gov.cn/vec_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=vec&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tianKey}`,\n        }),\n      });\n      break;\n    case \"Gaode\":\n      layer = new TileLayer({\n        properties: {\n          name: \"gaode\",\n          title: \"高德地图\",\n        },\n        source: new XYZ({\n          url: \"http://webrd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scl=1&style=8&lstyle=7&x={x}&y={y}&z={z}\",\n        }),\n      });\n      break;\n    case \"Google\":\n      layer = new TileLayer({\n        properties: {\n          name: \"google\",\n          title: \"谷歌地图\",\n        },\n        source: new XYZ({\n          url: \"http://mt{0-3}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\",\n          projection: \"EPSG:3857\",\n        }),\n      });\n      break;\n\n    case \"Bing\":\n      layer = new TileLayer({\n        properties: {\n          name: \"bing\",\n          title: \"Bing地图\",\n        },\n        source: new BingMaps({\n          key: bingKey,\n          imagerySet: \"RoadOnDemand\",\n        }),\n      });\n      break;\n    case \"Baidu\":\n      layer = createLyrBd();\n      break;\n    case \"WMTS\":\n      layer = createLyrWMTS();\n      break;\n\n    default:\n      layer = new TileLayer({\n        properties: {\n          name: \"osm\",\n          title: \"OpenStreetMap地图\",\n        },\n        source: new OSM(),\n      });\n  }\n  return layer;\n}\n\nexport default newLayer;\n","import { render } from \"./Map.vue?vue&type=template&id=e6f882d2&scoped=true\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport \"./Map.vue?vue&type=style&index=0&id=e6f882d2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e6f882d2\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\n\nimport Map from \"../views/Map.vue\";\n\nconst routes = [\n  {\n    path: \"/map\",\n    name: \"map\",\n    component: Map,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {},\n});\n","import { createApp } from \"vue\";\n\n// 引入element资源\nimport ElementPlus from \"element-plus\";\nimport \"element-plus/dist/index.css\";\nimport zhCn from \"element-plus/dist/locale/zh-cn\";\n\n// 引入ol样式，类文件按需引入\nimport \"ol/ol.css\";\n\nimport * as echarts from \"echarts\";\n\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\nconst app = createApp(App);\nwindow.app1 = app;\n\napp.use(router);\napp.use(store);\napp.use(ElementPlus, { locale: zhCn });\napp.config.globalProperties.$echarts = echarts;\n\napp.mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/GreenVisPlatform/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebgis\"] = self[\"webpackChunkwebgis\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9499); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","class","_createElementVNode","src","alt","id","href","_hoisted_8","_hoisted_9","key","style","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_el_cascader","modelValue","$data","selectedDataType","_cache","$event","placeholder","options","typeOptions","props","expandTrigger","size","_component_el_select","selectedYear","default","_withCtx","_renderList","yearOptions","year","_component_el_option","label","value","disabled","$options","isYearDisabled","_","selectedPolicy","isPolicyDisabled","policyOptions","policy","_component_el_button","onClick","loadShp","_createTextVNode","toggleChart","_normalizeClass","active","chartVisible","toggleSeggestion","suggestionVisible","toggleBasemap","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_10","isSelecting","_hoisted_11","_hoisted_12","_toDisplayString","_hoisted_13","_component_el_table","data","tableData","height","tableHeaders","header","index","_component_el_table_column","prop","chart_1_visible","_hoisted_14","images","image","_hoisted_15","demonstrations","_component_el_image","fit","_ctx","fill","chart_2_visible","_hoisted_16","innerHTML","suggestionContent","_hoisted_17","basemapVisible","_hoisted_18","basemaps","basemap","name","setBasemap","thumbnail","_hoisted_20","_hoisted_19","_createCommentVNode","_hoisted_21","_component_el_button_group","vertical","drawFeature","undo","resetStatus","clearDrawLayer","measureDistance","selectFeature","translateFeature","editVertices","rotateFeature","_hoisted_22","geoJSONViewerVisible","_hoisted_23","_component_el_card","_hoisted_24","_hoisted_25","closeGeoJSONViewer","type","_component_vue_json_pretty","parsedGeoJSON","deep","selectableType","highlightMouseoverNode","path","_hoisted_26","features","width","scope","_component_el_checkbox","row","selected","onChange","onFeatureSelectChange","locateFeature","deleteFeature","viewFeatureGeoJSON","exportFeatureGeoJSON","viewAttributeTable","newBaseSource","source","bingKey","OSM","XYZ","url","maxZoom","projection","BingMaps","imagerySet","VectorSource","format","GeoJSON","dataProjection","featureProjection","MCBAND","LLBAND","MC2LL","LL2MC","lngLatToMercator","T","c","cd","r","convertLL2MC","lng","lat","mercatorToLngLat","convertMC2LL","cL","cN","getLoop","getRange","cM","length","cO","convertor","toFixed","Math","abs","max","min","isNaN","bV","b3","parseFloat","this","cU","cS","cT","cR","cP","cQ","exec","replace","cf","indexOf","charAt","String","fromCharCode","isInRange","prototype","equals","tianKey","createLyrBd","projBD09","Projection","code","extent","units","axisOrientation","global","addProjection","addCoordinateTransforms","coordinate","resolutions","i","pow","tilegrid","TileGrid","origin","baidu_source","TileImage","tileGrid","tileUrlFunction","tileCoord","baiduX","baiduY","z","x","y","console","log","baidu_layer","Tile","createLyrWMTS","getWidth","getProj","getExtent","matrixIds","push","WMTSTileGrid","TileLayer","properties","title","WMTS","crossOrigin","layer","matrixSet","newLayer","proj4","defs","register","components","VueJsonPretty","map","drawSource","drawVector","draw","idList","checks","layers","undoStack","view","zoom","center","rotation","miniMap","measureInteraction","olmap","scale","modify","translate","transform","defaultStyle","select","selectedFeatures","selectedFeatureGeoJSON","children","shpLayer","chartData","require","isPredict","attributeTableVisible","attributeData","attributeColumns","myStyle","Style","Fill","color","stroke","Stroke","Circle","radius","watch","newValue","lastSelectedType","firstSelectedType","resetSelectedYear","mounted","initMap","addDrawLayer","methods","getLayers","forEach","removeLayer","insertAt","$message","error","workspace","params","LAYERS","TILED","STYLES","geojsonFilePath","drawLayer","TileWMS","serverType","transition","addLayer","fetch","then","response","json","readFeatures","vectorStyle","addFeatures","VectorLayer","setZIndex","getView","catch","showChart","showSeggestion","suggestionUrl","text","ElMessage","document","querySelector","walkImage","driveImage","nearImage","sumImage","tableUrl","d3","loadTable","Object","keys","removeInteraction","getFeatures","clear","setActive","onCheckChange","lastLocate","setVisible","includes","locate","setZoom","setCenter","getSource","featureType","Draw","addInteraction","on","event","feature","getGeometry","getType","randomId","setId","setStyle","area","getArea","unshift","getId","lastStep","pop","floor","random","find","f","removeFeature","filter","container","getElementById","content","closer","overlay","Overlay","element","autoPan","animation","duration","onclick","setPosition","undefined","blur","addOverlay","e","target","getArray","item","values_","SQNAME","drive_Aij_","walk_Aij_w","near_Aij_n","plus_Aij_s","getCoordinates","evt","toStringHDMS","toLonLat","Select","wrapX","enableFeatureTranslate","Translate","Collection","Modify","CircleStyle","getFeatureById","enableFeatureRotate","getOverlay","getStyleFunction","condition","primaryAction","platformModifierKeyOnly","deleteCondition","never","insertVertexCondition","get","modifyFeature","modifyGeometry","point","modifyPoint","geometry0","geometry","result","calculateCenter","minRadius","dx","dy","initialRadius","sqrt","initialAngle","atan2","currentRadius","currentAngle","clone","rotate","set","setGeometry","unset","changeInteraction","coordinates","slice","getCoordinateAt","getCenter","sqDistances","apply","getHeight","lineDash","measureTooltipElement","createElement","className","createMeasureTooltip","tooltipElement","getLastCoordinate","tooltip","offset","positioning","listener","geom","output","formatLength","removeOverlay","unByKey","line","getLength","round","onZoom","isZoomIn","curZoom","getZoom","onMoveWh","onRestore","setRotation","onScaleChange","removeControl","ScaleLine","bar","addControl","openFileUpload","$refs","fileInput","click","onFileUpload","file","files","fileName","toLowerCase","endsWith","reader","FileReader","onload","loadJsonFile","readAsText","loadShapefile","async","arrayBuffer","geojsons","convertShpToGeoJSON","displayGeojson","readAsArrayBuffer","shpData","shp","Array","isArray","geojson","bounds","geojsonStyle","addFeature","Map","View","getRotation","Zoom","zoomSlider","ZoomSlider","zoomToExtent","ZoomToExtent","baseLayer","OverviewMap","collapsed","mousePos","MousePosition","coordinateFormat","createStringXY","singleClick","toggleCondition","remove","updateSelectInteraction","extend","writeFeatureObject","writeFeature","blob","Blob","URL","createObjectURL","link","download","revokeObjectURL","routes","component","router","createRouter","history","createWebHistory","process","createStore","state","mutations","actions","modules","app","createApp","App","window","app1","use","store","ElementPlus","locale","zhCn","config","globalProperties","$echarts","echarts","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}